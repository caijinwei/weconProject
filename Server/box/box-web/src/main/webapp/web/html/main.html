<!DOCTYPE html>
<html lang="en" style="height: 100%;" ng-app="weconweb">
<head>
    <meta charset="UTF-8">
    <title>维控PIBox</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../css/style.css"/>
    <link rel="stylesheet" href="../lib/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../lib/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
            display: none !important;
        }
    </style>
</head>
<body ng-controller="infoController" ng-init="onInit()" class="main-body">
<div class="wrap">
    <div id="left" class="col-xs-3 col-sm-3 col-md-2 col-lg-2">
        <!--Logo和用户名-->
        <div id="left-header" class="left-header">
            <div class="logo">
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                    <a href="user/info.html" target="content_frame">
                        <img id="logo" alt="用户头像" src="../image/head.png"
                             class="img-responsive">
                    </a>
                </div>
                <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">
                    <a href="user/info.html" target="content_frame" class="userinfo">
                        <span style="font-size: 18px;">{{username}}</span></a>
                    <br/>
                    <a href="#" ng-click="logout()"> <span
                            class="glyphicon glyphicon-log-out"></span> 注销
                    </a> <br/> <br/>
                </div>
            </div>
        </div>
        <!--搜索框-->
        <form class="bs-example bs-example-form" role="form" ng-if="type==1">
            <div class="input-group">
                <input type="text" class="form-control"
                       placeholder="搜索：PIBox名称、序列号"/> <span class="input-group-btn">
						<button class="btn btn-info" type="button">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
					</span>
            </div>
        </form>
        <!--按钮组：分组管理、添加盒子、设置-->
        <div class="btn-group btn-group-justified main-btn-group">
            <div class="btn-group">
                <a href="main.html" title="主页">
                    <button type="button" class="btn btn-default" id="btn-home">
                        <span class="glyphicon glyphicon-home"></span>
                    </button>
                </a>
            </div>
            <div class="btn-group" ng-if="type==1">
                <a href="groupmgr.html" target="content_frame" title="分组管理">
                    <button type="button" class="btn btn-default" id="btn-group-mgr">
                        <span class="glyphicon glyphicon-th-list btn-item"></span>
                    </button>
                </a>
            </div>
            <div class="btn-group" data-toggle="tooltip" ng-if="type==1">
                <button type="button" class="btn btn-default" data-toggle="modal"
                        data-target="#addPIBox" data-placement="bottom" title="添加盒子"
                        ng-click="getRefList()">
                    <span class="glyphicon glyphicon-plus btn-item"></span>
                </button>
            </div>

            <div class="btn-group" ng-if="type==1">
                <a href="setting.html" target="content_frame" title="设置">
                    <button type="button" class="btn btn-default" id="btn-setting">
                        <span class="glyphicon glyphicon-cog btn-item"></span>
                    </button>
                </a>
            </div>
            <div class="btn-group" data-toggle="tooltip" ng-if="type==1">
                <a href="user/viewaccountmgr.html" target="content_frame"
                   title="视图账号管理">
                    <button type="button" class="btn btn-default" id="btn-viewaccount">
                        <span class="glyphicon glyphicon-user"></span>
                    </button>
                </a>
            </div>
        </div>
        <!--添加盒子对话框-->
        <div class="modal" id="addPIBox" tabindex="-1" data-backdrop="false">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span>&times;</span>
                        </button>
                        <h4 class="modal-title">添加PIBox</h4>
                    </div>
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="form-group">
                                    <i class="fa fa-code icon"></i> <input type="text"
                                                                           class="form-control" id="machine_code"
                                                                           placeholder="PIBox机器码"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <i class="fa fa-lock fa-lg icon"></i> <input type="text"
                                                                                 class="form-control" id="dev_password"
                                                                                 placeholder="PIBox密码"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group">
                                    <i class="fa fa-user fa-lg icon"></i> <input type="text"
                                                                                 class="form-control" id="dev_name"
                                                                                 placeholder="PIBox别名"/>
                                </div>
                            </div>
                            <div class="row" style="margin-top: 20px; margin-bottom: 20px;">
                                <select id="acc_dir_id" class=" form-control form-inline">
                                    <option ng-repeat="x in refList" value="{{x.id}}">{{x.name}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-info" ng-click="boundBox()">添加</button>
                        <button type="button" class="btn btn-default"
                                data-dismiss="modal" ng-click="clearInput()">取消
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <ul id="side_nav" ng-cloak ng-if="type==1">
            <li><a href="pibox.html" target="content_frame"> <span
                    class="glyphicon glyphicon-eye-open "> 所有监控点</span>
            </a></li>
            <li ng-repeat="x in allDatas"><a href="#"
                                             ng-click="sideclick(x);"> <span
                    class="glyphicon glyphicon-folder-close "
                    id="spanid_{{x.accountdirId}}"> {{x.accountdirName}}</span>
            </a>
                <ul id="dir_ul_{{x.accountdirId}}">
                    <a
                            href="pibox.html?device_id={{y.deviceId}}&device_name={{y.deviceName}}"
                            class="list-group-item" target="content_frame"
                            ng-repeat="y in x.deviceList">{{y.deviceName}}</a>
                </ul>
            </li>
        </ul>

        <ul class="nav nav-pills nav-stacked" role="tablist" id="overviewtab" style="margin-top: 40px;"
            ng-cloak ng-if="type==2" >
            <li>
                <a href="datamonitor.html" target="content_frame">
                    <span class="glyphicon glyphicon-eye-open"> 数据监控</span>
                </a>
            </li>
            <li>
                <a href="alarmlog.html" target="content_frame">
                    <span class="glyphicon glyphicon-exclamation-sign"> 报警记录</span>
                </a>
            </li>
            <li>
                <a href="historydata.html" target="content_frame">
                    <span class="glyphicon glyphicon-signal"> 历史数据</span>
                </a>
            </li>
            <li>
                <a href="remotedownload.html" target="content_frame">
                    <span class="glyphicon glyphicon-save"> 远程下载</span>
                </a>
            </li>
            <li>
                <a href="baseconfig.html" target="content_frame">
                    <span class="glyphicon glyphicon-cog"> 基本配置</span>
                </a>
            </li>
        </ul>
    </div>
    <div id="right" class="col-xs-9 col-sm-9 col-md-10 col-lg-10">
        <iframe src="overview.html" name="content_frame" frameborder="0"></iframe>
    </div>
</div>
<script src="../lib/jquery/jquery-3.2.1.min.js"></script>
<script src="../lib/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="../lib/bootstrap/collapse/bootstrap-collapse.js"></script>
<script src="../lib/angular/angular.min.js" type="text/javascript"></script>
<script src="../lib/wecon-common.js" type="text/javascript"></script>
<script src="../js/main.js" type="text/javascript"></script>
</body>
</html>